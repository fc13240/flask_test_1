{% extends "base.html" %}

{% block page_content %}
<script type="text/javascript" src="../static/js/jquery.js"></script>
<script type="text/javascript" src="../static/js/trustsql.js"></script>

{% if user %}
<div class="row">
	<p>用户：{{ user.username }} | ID: {{ user.id }}</p>
</div>
<hr>
{% endif %}
{% if tsql %}
<div class="row">
	<p>私钥：{{ tsql.prvkey }}</p>
	<p>公钥：{{ tsql.pubkey }}</p>
</div>
<hr style="border: 1 dashed #987cb9" color=#987cb9 size=1>
<div class="row">
	<p class="form-signin-heading">为字符串签名</p>
	<form id="signString_form">
		<div class="form-group required">
			{{ form.prvkey.label }}
			{{ form.prvkey(id="signString_form_prvkey") }}
		</div>
		<div class="form-group required">
			{{ form.pStr.label }}
			{{ form.pStr(id="signString_form_pStr") }}
		</div>
		<button type="button" id="trustsql_signString">提交</button>
		<p>签名结果：<span id="signStringResult"></span></p>
	</form>
</div>
<hr style="border: 1 dashed #987cb9" color=#987cb9 size=1>
<div class="row">
	<p class="form-signin-heading">生成共享信息签名</p>
	<form id="issSign_form">
		<div class="form-group required">
			{{ iss_form.pInfoKey.label }}
			{{ iss_form.pInfoKey(id="iss_form_pInfoKey") }}
		</div>
		<div class="form-group required">
			{{ iss_form.nInfoVersion.label }}
			{{ iss_form.nInfoVersion(id="iss_form_nInfoVersion") }}
		</div>
		<div class="form-group required">
			{{ iss_form.nState.label }}
			{{ iss_form.nState(id="iss_form_nState") }}
		</div>
		<div class="form-group required">
			{{ iss_form.pContent.label }}
			{{ iss_form.pContent(id="iss_form_pContent") }}
		</div>
		<div class="form-group required">
			{{ iss_form.pNotes.label }}
			{{ iss_form.pNotes(id="iss_form_pNotes") }}
		</div>
		<div class="form-group required">
			{{ iss_form.pCommitTime.label }}
			{{ iss_form.pCommitTime(type="datetime-local", id="iss_form_pCommitTime") }}
		</div>
		<div class="form-group required">
			{{ iss_form.pPrvkey.label }}
			{{ iss_form.pPrvkey(id="iss_form_pPrvkey") }}
		</div>
		<button type="button" id="trustsql_issSign">提交</button>
		<p>签名结果：<span id="issSignResult"></span></p>
	</form>
</div>
<hr style="border: 1 dashed #987cb9" color=#987cb9 size=1>
{% endif %}
{% endblock %}